var languative;!function(e){var n="data-phrase-id";function t(e){return i(e)||e}function i(n){return null==n||""==n?null:null!=e.selectedDictionary&&n in e.selectedDictionary?e.selectedDictionary[n]:n in e.dictonaries.html?e.dictonaries.html[n]:null}function a(e,n){var t=e.getAttribute&&e.getAttribute(n)||null;if(!t&&e.attributes)for(var i=0;i<e.attributes.length;i++){var a=e.attributes[i];if(a.nodeName===n)return a.nodeValue}return t}function r(){for(var e=new Array,t=document.body.getElementsByTagName("*"),i=0;i<t.length;i++){var r=t[i];a(r,n)&&e.push(r)}return e}e.ignoreTags={img:"<img />",br:"<br />",hr:"<hr />"},e.dictonaries={html:{_id:"html",_name:"HTML"},en:{_id:"en",_name:"English"},az:{_id:"az",_name:"Azərbaycan - Azerbaijani"},ru:{_id:"ru",_name:"Русский - Russian"}},e.selectedDictionary=null,e.getDictionary=function(n){if((n=n.toLowerCase())in e.dictonaries)return e.dictonaries[n];var t=n.indexOf("-");return t>0&&(n=n.substring(0,t)),e.dictonaries[n]},e.getPhrase=t,e.findPhrase=i,e.getYesNo=function(e){return t(void 0===e?"undefined":e?"yes":"no")},e.getDictionaryFromHtml=function(){function t(e){var n=null;return null!=(n="INPUT"!==e.tagName?"innerHTML"in e?e.innerHTML:e.nodeValue:e.getAttribute("placeholder")||e.value)&&(n=(n=n.replace(/\s{2,}/g," ")).replace(/^\s+|\s+$/g,"")),n}function i(n){if(n.childNodes.length>1){for(var i=new Array,a=0;a<n.childNodes.length;a++){var r,o=n.childNodes[a],l=o.nodeName.toLowerCase();r=l in e.ignoreTags?e.ignoreTags[l]:t(o),i.push(r)}return i}return t(n)}for(var o=r(),l=new Object,d=0;d<o.length;d++){var u=o[d],s=a(u,n);if(null!=s){var c=i(u);s in l&&l[s]!=c?console.warn("Different phrases with the same data-phrase-id='"+s+"'\n 1: "+JSON.stringify(l[s],null,"  ")+"\n 2: "+JSON.stringify(c,null,"  ")):l[s]=c}}return l},e.changeLanguage=function(t){function i(n,t){if(n.childNodes.length>1)for(var i=0;i<n.childNodes.length;i++){var a=n.childNodes[i];a.nodeName.toLowerCase()in e.ignoreTags||(console.log(a.tagName),"INPUT"!==a.tagType?"innerHTML"in a?a.innerHTML=" "+t[i]+" ":a.nodeValue=" "+t[i]+" ":a.hasAttribute("placeholder")?a.setAttribute("placeholder",t[i]):a.value=t[i])}else"INPUT"!==n.tagName?n.innerHTML=" "+t+" ":n.hasAttribute("placeholder")?n.setAttribute("placeholder",t):n.value=t}localStorage.setItem("lang",t);var o=e.getDictionary(t);null==o&&(console.warn("Cannot identify dictionary by key '"+t+"'. Default dictionary ("+e.dictonaries.html._id+": "+e.dictonaries.html._name+") used instead."),o=e.dictonaries.html),e.selectedDictionary=o;for(var l=r(),d=0;d<l.length;d++){var u=l[d],s=a(u,n);if(null!=s){var c=e.getPhrase(s);c?i(u,c):console.warn("Phrase not definied in dictionary: data-phrase-id='"+s+"'")}}null!=o.Title&&(document.title=o.Title)};var o=!1;e.init=function(){if(!o){o=!0;var n=e.getDictionaryFromHtml();for(var t in n)t in e.dictonaries.html||(e.dictonaries.html[t]=n[t]);window.navigator;e.changeLanguage(null!=localStorage.getItem("lang")?localStorage.getItem("lang").slice(0,2):null!=window.navigator.userLanguage?window.navigator.userLanguage.slice(0,2):null!=window.navigator.language&&window.navigator.language.slice(0,2))}},e.modifyDictionary=function(n,t){var i=e.getDictionary(n);if(null==i)e.dictonaries[n.toLowerCase()]=t;else for(var a in t)i[a]=t[a]}}(languative||(languative={})),document.addEventListener&&document.addEventListener("DOMContentLoaded",languative.init),window.addEventListener?window.addEventListener("load",languative.init,!1):window.attachEvent("onload",languative.init);
